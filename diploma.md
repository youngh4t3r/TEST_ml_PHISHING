# Исследование: Распознавание фишинговых сайтов с использованием методов машинного обучения

## Введение

Фишинг — это один из самых распространённых видов интернет-мошенничества, направленный на кражу конфиденциальной информации у пользователей. Актуальность проблемы обусловлена постоянным ростом количества фишинговых атак и всё более изощрёнными способами их реализации. Целью данной работы является разработка и анализ алгоритма выявления фишинговых URL-адресов на основе моделей машинного обучения.

---

## 1. Анализ предметной области

### 1.1. Фишинг и его угрозы

Фишинговые атаки маскируются под легитимные сервисы. Нарушители используют такие методы, как:

* маскировка доменов,
* подделка интерфейсов популярных сайтов,
* внедрение редиректов и JavaScript-ловушек.

### 1.2. Методы защиты и выявления

Существуют три подхода:

* **Черные списки** (неэффективны для новых доменов),
* **Контент-анализ** (требует доступа к сайту),
* **Анализ URL** (быстрый, автономный метод).

Последний метод выбран как основа для данного исследования.

---

## 2. Разработка модели

### 2.1. Источники данных

Были использованы открытые датасеты:

* **Фишинг:** OpenPhish, PhishTank,
* **Безопасные:** Majestic Million, top1m.org

Общий объем: 1.57 млн URL. Данные приведены к формату `url,label` и очищены от дубликатов и мусора.

### 2.2. Извлечение признаков (feature engineering)

Выделены следующие признаки:

* использование IP вместо домена,
* символ `@` в URL,
* длина URL,
* количество `/`, `-`, `.`,
* наличие слов `login`, `verify`, `secure`,
* присутствие "https" в пути,
* количество цифр и поддоменов.

Все признаки извлекаются **без подключения к сайту**.

### 2.3. Обучение модели

Были протестированы следующие модели:

* **Logistic Regression**
* **Random Forest**
* **XGBoost**

Оценка качества велась по метрикам:

* **Recall** (обнаружение фишинга)
* **Precision** (точность определения фишинга)
* **ROC-AUC**

Лучший результат достигнут при использовании RandomForest с подбором весов классов.

---

## 3. Верификация и эксперименты

### 3.1. Статистика по результатам:

* **Recall:** 0.99
* **Precision:** 1.00
* **ROC-AUC:** 0.998

### 3.2. Подбор порога классификации

С помощью функции `precision_recall_curve` установлен оптимальный порог (≈0.25), обеспечивающий высокую полноту и приемлемую точность.

### 3.3. CLI и API

* **CLI:** `python src/predict.py <url>`
* **API:** FastAPI-сервер с маршрутом `/check?url=...`

---

## Заключение

В работе была создана, обучена и протестирована модель машинного обучения для распознавания фишинговых сайтов. Главный акцент был сделан на анализе URL-адресов без доступа к содержимому сайта, что делает систему максимально быстрой и безопасной.

**Достоинства подхода:**

* автономность и масштабируемость,
* высокая точность и полнота,
* возможность интеграции в браузер, бот, API, SOC и т.д.

**Возможности дальнейшего развития:**

* добавление WHOIS-признаков,
* кэширование вероятностей,
* Telegram-бот,
* Docker-деплой и CI/CD.

---

**Автор:** Богдан Пятин
**Проект:** [github.com/youngh4t3r/TEST\_ml\_PHISHING](https://github.com/youngh4t3r/TEST_ml_PHISHING)
